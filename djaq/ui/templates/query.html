
  <script src="https://code.jquery.com/jquery-2.2.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

Query
<textarea id="query" style="width:100%;height:200px;border: 2px solid grey;padding: 5px;"></textarea>
limit: <input type="number" value=100 id="limit"/>&nbsp;&nbsp;&nbsp;
offset: <input type="number" value=0 id="offset"/>
<div><button onclick="execute_query(false);">query</button></div>
<div><button onclick="execute_query(true);">SQL</button></div>

<textarea id="result" style="width:100%;min-height:500px;"></textarea>

<script>

function execute_query(sql) {
    $("#result").html('working on it...');
    var url = "/query/"
    $.ajax({
        type: "POST",
        data: {
	    query: $("#query").val(),
	    limit: $("#limit").val(),
	    offset: $("#offset").val(),
	    sql: sql
	},
        url: url,
        success: function(response) {
	    if (sql) {
		$("#result").val(response.result);
	    } else {
		$("#result").val(JSON.stringify(response.result, null, 1));
	    }
        },
        error: function (xhr, ajaxOptions, thrownError) {
	    console.log(xhr);
            $("#result").val(xhr.responseText);
        }
    });
}
$( document ).ready(function() {



});

</script>
